(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var c=a.apply(null,n);c&&e.push(c)}}else if("object"===s)if(n.toString===Object.prototype.toString)for(var l in n)r.call(n,l)&&n[l]&&e.push(l);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7598)}])},7598:function(e,t,n){"use strict";function r(e,t,n,r,a,s,c){try{var l=e[s](c),o=l.value}catch(i){return void n(i)}l.done?t(o):Promise.resolve(o).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var c=e.apply(t,n);function l(e){r(c,a,s,l,o,"next",e)}function o(e){r(c,a,s,l,o,"throw",e)}l(void 0)}))}}n.r(t),n.d(t,{default:function(){return j}});var s=n(4051),c=n.n(s),l=n(5893);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u="offline";function f(e){return d.apply(this,arguments)}function d(){return(d=a(c().mark((function e(t){var n,r,a,s,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.caches.open(u);case 2:return n=e.sent,e.prev=3,e.next=6,fetch(t);case 6:return r=e.sent,e.t0=i,e.next=10,Promise.all([r.json(),n.add(t)]);case 10:return e.t1=e.sent,a=(0,e.t0)(e.t1,1),s=a[0],e.abrupt("return",s);case 16:return e.prev=16,e.t2=e.catch(3),console.log("ERROR LOADING",t),e.next=21,n.match(t);case 21:if(l=e.sent){e.next=24;break}throw new Error(e.t2);case 24:return e.abrupt("return",l.json());case 25:case"end":return e.stop()}}),e,null,[[3,16]])})))).apply(this,arguments)}var p,x=n(7294),h=n(4184),m=n.n(h);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var b=function(e){return x.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),p||(p=x.createElement("path",{d:"M495.9 166.6c3.3 8.6.5 18.3-6.3 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4 0 8.6-.6 17.1-1.7 25.4l43.3 39.4c6.8 6.3 9.6 16 6.3 24.6-4.4 11.9-9.7 23.4-15.7 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.3-6 7.1-15.7 9.6-24.5 6.8l-55.7-17.8c-13.4 10.3-29.1 18.9-44 25.5l-12.5 57.1c-2 9-9 15.4-18.2 17.8-13.8 2.3-28 3.5-43.4 3.5-13.6 0-27.8-1.2-41.6-3.5-9.2-2.4-16.2-8.8-18.2-17.8l-12.5-57.1c-15.8-6.6-30.6-15.2-44-25.5l-55.66 17.8c-8.84 2.8-18.59.3-24.51-6.8-8.11-9.9-15.51-20.3-22.11-31.3l-4.68-8.1c-6.07-10.9-11.35-22.4-15.78-34.3-3.24-8.6-.51-18.3 6.35-24.6l43.26-39.4C64.57 273.1 64 264.6 64 256c0-8.6.57-17.1 1.67-25.4l-43.26-39.4c-6.86-6.3-9.59-15.9-6.35-24.6 4.43-11.9 9.72-23.4 15.78-34.3l4.67-8.1c6.61-11 14.01-21.4 22.12-31.25 5.92-7.15 15.67-9.63 24.51-6.81l55.66 17.76c13.4-10.34 28.2-18.94 44-25.47l12.5-57.1c2-9.08 9-16.29 18.2-17.82C227.3 1.201 241.5 0 256 0s28.7 1.201 42.5 3.51c9.2 1.53 16.2 8.74 18.2 17.82l12.5 57.1c14.9 6.53 30.6 15.13 44 25.47l55.7-17.76c8.8-2.82 18.5-.34 24.5 6.81 8.1 9.85 15.5 20.25 22.1 31.25l4.7 8.1c6 10.9 11.3 22.4 15.7 34.3zM256 336c44.2 0 80-35.8 80-80.9 0-43.3-35.8-80-80-80s-80 36.7-80 80c0 45.1 35.8 80.9 80 80.9z"})))},g={C:0,G:1,D:2,A:3,E:4,B:5,"F#":6,Db:7,Ab:8,Eb:9,Bb:10,F:11,a:0,e:1,b:2,"f#":3,"c#":4,"g#":5,eb:6,bb:7,f:8,c:9,g:10,d:11},w=[["C","C"],["G","G"],["D","D"],["A","A"],["E","E"],["B","B"],["F#","F#"],["Db","Db"],["Ab","Ab"],["Eb","Eb"],["Bb","Bb"],["F","F"]],y=[["a","Am"],["e","Em"],["b","Bm"],["f#","F#m"],["c#","C#m"],["g#","G#m"],["eb","Ebm"],["bb","Bbm"],["f","Fm"],["c","Cm"],["g","Gm"],["d","Dm"]];function j(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t=(0,x.useState)([]),n=t[0],r=t[1],s=(0,x.useState)(""),o=s[0],i=s[1],u=(0,x.useState)(!1),d=u[0],p=u[1],h=(0,x.useState)(!1),m=h[0],v=h[1],g=(0,x.useState)(!1),w=g[0],y=g[1],j=(0,x.useRef)(null),N=(0,x.useRef)(null),k=function(){var e=a(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o!==t.name){e.next=3;break}return i(""),e.abrupt("return");case 3:return y(!0),e.next=6,f("/songs/".concat(t.file));case 6:j.current=e.sent,i(t.name),y(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=a(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),!navigator.storage||!navigator.storage.persist){e.next=6;break}return e.next=4,navigator.storage.persisted();case 4:t=e.sent,console.log("Persisted storage granted: ".concat(t));case 6:return e.next=8,f("/songs.json");case 8:return N.current=e.sent.songs,r(N.current),e.t0=console,e.next=13,window.caches.keys();case 13:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),v(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.useEffect)((function(){A()}),[]),(0,l.jsxs)("main",{className:"w-full lg:box flex flex-col",children:[(0,l.jsxs)("div",{className:"w-full px-3 py-1 border-b-2 border-b-[#444444] flex sticky top-0 bg-[#171717]",children:[(0,l.jsx)("input",{type:"text",placeholder:"Cauta...",className:"flex-1 bg-[#444444] rounded text-lg sticky top-0 py-1 px-3"}),(0,l.jsx)("button",{className:"px-2 ml-3",onClick:function(){return p(!0)},children:(0,l.jsx)(b,{className:"w-6 h-6 fill-white"})})]}),n.map((function(e,t){return(0,l.jsxs)("button",{className:"w-full py-3 px-3 border-b border-b-[#444444]",onClick:function(){return k(e)},children:[(0,l.jsx)("span",{className:"mr-4 text-gray-700",children:t+1}),(0,l.jsx)("span",{className:"text-lg",children:e.name}),(0,l.jsx)("span",{className:"ml-4 bg-[#DA0037] rounded px-1 text-lg font-bold",children:e.key})]},e.name)})),m&&(0,l.jsx)("div",{className:"w-full py-4 flex items-center justify-center italic",children:"Se incarca..."}),w&&(0,l.jsx)("div",{className:"w-full h-full top-0 left-0 flex items-center justify-center italic bg-[rgba(0,0,0,.4)] fixed",children:"Se incarca..."}),(""!==o||!0===d)&&(0,l.jsxs)("div",{className:"w-full h-full bg-[rgba(0,0,0,.4)] fixed top-0 left-0 flex justify-center items-center",children:[""!==o&&(0,l.jsx)(E,{songCompleteData:j.current,onExit:function(){return i("")}}),!0===d&&(0,l.jsx)(C,{songsCatalog:N.current,onExit:function(){return p(!1)}})]})]})}function N(e){var t=e.title,n=e.onExit,r=e.className,a=e.children;return(0,l.jsx)("div",{className:m()("bg-[#444444] relative rounded shadow",r),children:(0,l.jsxs)("div",{className:"w-full h-full overflow-y-hidden overflow-x-hidden flex flex-col",children:[(0,l.jsxs)("div",{className:"bg-[#171717] flex items-center justify-between gap-4 px-4 py-2 shadow rounded-t w-full",children:[t,(0,l.jsx)("button",{className:"font-bold text-xl rounded px-2 bg-[#EDEDED] text-[#171717] h-6 cursor-pointer shadow relative flex justify-center items-center",onClick:n,children:"X"})]}),a]})})}function E(e){var t=e.songCompleteData,n=e.onExit,r=(0,x.useState)(0),a=r[0],s=(r[1],(0,x.useState)(t.key)),c=s[0],o=s[1],i=(0,x.useRef)(0),u=t.key.charCodeAt(0)<=90;return(0,l.jsx)(N,{className:"w-full h-full lg:w-4/6 lg:h-5/6",title:(0,l.jsxs)("div",{className:"flex justify-center items-center",children:[(0,l.jsx)("span",{className:"text-lg font-bold truncate max-w-[200px]",children:t.name}),(0,l.jsx)("select",{className:"text-[#171717] w-14 rounded px-2 py-1 ml-4",value:c,onChange:function(e){var n=e.target.value,r=g[n];i.current=r-g[t.key],o(n)},children:u?w.map((function(e){return(0,l.jsxs)("option",{value:e[0],children:[e[a],e[0]===t.key?" (original)":""]},e[0])})):y.map((function(e){return(0,l.jsxs)("option",{value:e[0],children:[e[a],e[0]===t.key?" (original)":""]},e[0])}))})]}),onExit:n,children:(0,l.jsx)("div",{className:"text-lg flex flex-col gap-8 py-3 px-4 overflow-y-auto overflow-x-auto flex-1",children:t.song.map((function(e){return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-bold",children:e.name}),e.verses.map((function(e,t){if(e.includes("(")){for(var n="",r=0,s=0,c=e.indexOf("(");-1!=c;){for(var o=s;o<c-r;++o)n+=" ";var u=e.substring(c+1,e.indexOf(")",c)),f=u;if(0!==i.current){var d=k(u,i.current,a);r=d.length-u.length,f=d}n+='<span style="color: #f8ccd7;">'.concat(f,"</span>"),s=c+2*u.length+2,c=e.indexOf("(",c+1)}return[(0,l.jsx)("div",{className:"whitespace-pre leading-[0.5] mt-3",dangerouslySetInnerHTML:{__html:n}},"".concat(t,"a")),(0,l.jsx)("div",{className:"whitespace-pre",children:e.replace(/\((.*?)\)/g,"")},"".concat(t,"b"))]}return(0,l.jsx)("div",{className:"whitespace-pre",children:e},t)}))]},e.name)}))})})}function k(e,t,n){var r=e[0];if(e.length>1&&("#"===e[1]?r+="#":"b"===e[1]&&(r+="b")),void 0===g[r])return"";for(var a=r.charCodeAt(0)<=90,s=r.length<e.length?e.substring(r.length):"",c=0;c<s.length;++c)if(void 0!==g[s[c]]){s=s.substring(0,c)+k(s.substring(c),t,n);break}var l=g[r]+t;return l>=12&&(l-=12),l<0&&(l+=12),a?"".concat(w[l][n]).concat(s):"".concat(y[l][n]).concat(s)}function C(e){var t=e.songsCatalog,n=e.onExit,r=function(){var e=a(c().mark((function e(){var n,r,a,s,l,o,i,f;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.caches.open(u);case 2:for(n=e.sent,(r=[]).push(n.add("/songs.json")),a=!0,s=!1,l=void 0,e.prev=6,o=t[Symbol.iterator]();!(a=(i=o.next()).done);a=!0)f=i.value,r.push(n.add("/songs/".concat(f.file)));e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),s=!0,l=e.t0;case 14:e.prev=14,e.prev=15,a||null==o.return||o.return();case 17:if(e.prev=17,!s){e.next=20;break}throw l;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return e.next=24,Promise.all(r);case 24:case"end":return e.stop()}}),e,null,[[6,10,14,22],[15,,17,21]])})));return function(){return e.apply(this,arguments)}}();return(0,l.jsx)(N,{className:"w-5/6 h-5/6 lg:w-2/6 lg:h-3/6",title:(0,l.jsx)("div",{className:"flex justify-center items-center",children:(0,l.jsx)("span",{className:"text-lg font-bold",children:"Settings"})}),onExit:n,children:(0,l.jsx)("div",{className:"text-lg flex flex-col overflow-y-auto overflow-x-auto flex-1",children:(0,l.jsx)("div",{className:"border-b border-b-[#171717] py-2 px-3",children:(0,l.jsx)("button",{className:"rounded-lg bg-[#171717] py-1 px-3",onClick:r,children:"Reload cache"})})})})}}},function(e){e.O(0,[774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);