(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(8432)}])},8432:function(e,n,t){"use strict";function r(e,n,t,r,a,s,c){try{var l=e[s](c),o=l.value}catch(u){return void t(u)}l.done?n(o):Promise.resolve(o).then(r,a)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(a,s){var c=e.apply(n,t);function l(e){r(c,a,s,l,o,"next",e)}function o(e){r(c,a,s,l,o,"throw",e)}l(void 0)}))}}t.r(n),t.d(n,{default:function(){return x}});var s=t(4051),c=t.n(s),l=t(5893);function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"===typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i="offline";function f(e){return d.apply(this,arguments)}function d(){return(d=a(c().mark((function e(n){var t,r,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.caches.open(i);case 2:return t=e.sent,e.prev=3,e.next=6,fetch(n);case 6:return r=e.sent,e.t0=u,e.next=10,Promise.all([r.json(),t.add(n)]);case 10:return e.t1=e.sent,a=(0,e.t0)(e.t1,1),s=a[0],e.abrupt("return",s);case 16:return e.prev=16,e.t2=e.catch(3),e.abrupt("return",t.match(n));case 19:case"end":return e.stop()}}),e,null,[[3,16]])})))).apply(this,arguments)}var p=t(7294);function x(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var n=(0,p.useState)([]),t=n[0],r=n[1],s=(0,p.useState)(""),o=s[0],u=s[1],i=(0,p.useState)(!1),d=i[0],x=i[1],h=(0,p.useState)(!1),m=h[0],v=h[1],b=(0,p.useRef)(null),g=(0,p.useRef)(null),w=function(){var e=a(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o!==n.name){e.next=3;break}return u(""),e.abrupt("return");case 3:return v(!0),e.next=6,f("/songs/".concat(n.file));case 6:b.current=e.sent,u(n.name),v(!1);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=a(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),!navigator.storage||!navigator.storage.persist){e.next=6;break}return e.next=4,navigator.storage.persisted();case 4:n=e.sent,console.log("Persisted storage granted: ".concat(n));case 6:return e.next=8,f("/songs.json");case 8:return g.current=e.sent.songs,r(g.current),e.t0=console,e.next=13,window.caches.keys();case 13:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),x(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.useEffect)((function(){y()}),[]),(0,l.jsxs)("main",{className:"w-full lg:box flex flex-col",children:[(0,l.jsx)("div",{className:"w-full px-3 py-1 border-b-2 border-b-[#444444]",children:(0,l.jsx)("input",{type:"text",placeholder:"Cauta...",className:"w-full bg-[#444444] rounded text-lg sticky top-0 py-1 px-3"})}),t.map((function(e){return(0,l.jsxs)("button",{className:"w-full py-3 border-b border-b-[#444444]",onClick:function(){return w(e)},children:[(0,l.jsx)("span",{className:"text-lg",children:e.name}),(0,l.jsx)("span",{className:"ml-4 bg-[#DA0037] rounded px-1 text-lg font-bold",children:e.key})]},e.name)})),d&&(0,l.jsx)("div",{className:"w-full py-4 flex items-center justify-center italic",children:"Se incarca..."}),m&&(0,l.jsx)("div",{className:"w-full h-full top-0 left-0 flex items-center justify-center italic bg-[rgba(0,0,0,.4)] fixed",children:"Se incarca..."}),""!==o&&(0,l.jsx)("div",{className:"w-full h-full bg-[rgba(0,0,0,.4)] fixed top-0 left-0 flex justify-center items-center",children:(0,l.jsxs)("div",{className:"w-full h-full lg:w-4/6 lg:h-5/6 bg-[#444444] relative rounded shadow",children:[(0,l.jsx)("button",{className:"absolute z-20 -top-5 -right-5 font-bold text-3xl rounded-full px-2 py-1 bg-[#EDEDED] text-[#DA0037] w-10 h-10 cursor-pointer shadow",onClick:function(){return u("")},children:(0,l.jsx)("div",{className:"absolute left-[.7rem] top-[-.05rem]",children:"x"})}),(0,l.jsxs)("div",{className:"w-full h-full py-3 px-4 overflow-y-auto",children:[(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("span",{className:"text-lg font-bold",children:b.current.name}),(0,l.jsx)("span",{className:"ml-4 bg-[#DA0037] rounded px-1 text-lg font-bold",children:b.current.key})]}),(0,l.jsx)("div",{className:"mt-3 text-lg flex flex-col gap-8",children:b.current.song.map((function(e){return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-bold",children:e.name}),e.verses.map((function(e,n){if(e.includes("(")){for(var t="",r=0,a=e.indexOf("(");-1!=a;){for(var s=r;s<a;++s)t+=" ";var c=e.substring(a+1,e.indexOf(")",a));t+='<span style="color: #f8ccd7;">'.concat(c,"</span>"),r=a+2*c.length+2,a=e.indexOf("(",a+1)}return[(0,l.jsx)("div",{className:"whitespace-pre leading-[0.5] mt-3",dangerouslySetInnerHTML:{__html:t}},"".concat(n,"a")),(0,l.jsx)("div",{className:"whitespace-pre",children:e.replace(/\((.*?)\)/g,"")},"".concat(n,"b"))]}return(0,l.jsx)("div",{className:"whitespace-pre",children:e},n)}))]},e.name)}))})]})]})})]})}}},function(e){e.O(0,[774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);